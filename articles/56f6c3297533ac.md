---
title: "Viewã®Visibilityã‚’æ‹¡å¼µãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚ˆã£ã¦å¤‰æ›´ã™ã‚‹"
emoji: "ğŸ‘ï¸"
type: "tech"
topics: ["android","kotlin"]
published: true
publication_name: "karabiner_inc"
---

Android Viewã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã‚‹å ´åˆã€ã‚ˆãViewã®Visibilityã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«å¤‰æ›´ã—ãŸããªã‚‹ã€‚
ãã®éš›ã«ã‚ˆãç”¨ã„ã‚‰ã‚Œã‚‹æ‰‹æ³•ã¯Visibilityã‚’å¤‰æ›´ã™ã‚‹æ‹¡å¼µé–¢æ•°ã‚’ä½œã‚‹ã“ã¨ã€‚

```kotlin
fun View.show() {
    visibility = View.VISIBLE
}

fun View.hide() {
    visibility = View.INVISIBLE
}

fun View.gone() {
    visibility = View.GONE
}
```

ã‚‚ã£ã¨ã„ã„æ–¹æ³•ãŒãªã„ã‹èª¿ã¹ã¦ã„ã‚‹ã¨ãã«core-ktxã«Property-based Approachã¨ã„ã†ã‚‚ã®ã‚’è¦‹ã¤ã‘ã¦ã€ã“ã¡ã‚‰ã®ã»ã†ãŒæ´»ç”¨ã®å¹…ãŒåºƒãã†ã ã£ãŸã€‚

```kotlin
view.isVisible // VISIBLEãªã‚‰true
view.isInvisible // INVISIBLEãªã‚‰true
view.isGone // GONEãªã‚‰true

// visibilityã‚’å¤‰æ›´ã™ã‚‹
view.isVisible = true // VISIBLEã«ã™ã‚‹
view.isVisible = false // GONEã«ã™ã‚‹
```

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã®åˆ©ç‚¹ã¯visibilityã®å–å¾—ã¨å¤‰æ›´ã‚’ã‚²ãƒƒã‚¿ãƒ¼ã¨ã‚»ãƒƒã‚¿ãƒ¼ã«ã‚ˆã£ã¦å®Ÿè¡Œã§ãã‚‹ç‚¹ã§ã‚ã‚‹
ãã®ãŸã‚viewã®visibilityã‚’è¦‹ã¦å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«æœ‰åŠ¹ã§ã‚ã‚‹

```kotlin
if(view.isGone) {
    // GONEã ã£ãŸã¨ãã®æŒ¯èˆã„
}
```

æ³¨æ„ç‚¹ãŒã‚ã‚‹ã¨ã™ã‚‹ã¨isVisibleãŒfalseã ã£ãŸå ´åˆã¯INVISIBLEã§ã¯ãªãGONEã®çŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹ã®ã§å¯¾å¿œé–¢ä¿‚ã‚’ãã¡ã‚“ã¨æŠŠæ¡ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹

```mermaid
graph TB
    isVisible -->|true| VISIBLE
    isVisible -->|false| GONE
```

```mermaid
graph TB
    isGone -->|true| GONE
    isGone -->|false| VISIBLE
```

```mermaid
graph TB
    isInvisible -->|true| INVISIBLE
    isInvisible -->|false| VISIBLE
```

## å‚è€ƒæ–‡çŒ®

æœ€åˆã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã¤ã„ã¦è¦‹ã¤ã‘ãŸãƒªãƒ³ã‚¯
https://github.com/android/android-ktx/issues/135#issuecomment-363652935

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
https://android.googlesource.com/platform/frameworks/support/+/a9ac247af2afd4115c3eb6d16c05bc92737d6305/core/ktx/src/main/java/androidx/core/view/View.kt#216

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
https://developer.android.com/reference/kotlin/androidx/core/view/package-summary#(android.view.View).isGone()

core-ktxã«ã¤ã„ã¦è¨€åŠã—ã¦ã„ã‚‹ä»–ã®è¨˜äº‹
https://www.kodeco.com/5576-android-ktx-tutorial-getting-started#toc-anchor-015
https://star-zero.medium.com/%E4%BE%BF%E5%88%A9%E3%81%AAktx-cc61b6d3ba00
